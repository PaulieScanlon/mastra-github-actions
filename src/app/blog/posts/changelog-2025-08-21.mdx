---
title: "Mastra Changelog 2025-08-21"
publishedAt: "2025-08-21"
author: "Shane Thomas"
summary: "New streamVNext and generateVNext methods with AI SDK v5 support, output processors, and more."
draft: false
categories: "changelogs"
---

This week brings two major features: new `streamVNext` and `generateVNext` methods with multiple output format support (Mastra and AI SDK v5), plus output processors for transforming agent streams. We've also added experimental AI tracing, Gemini Live voice capabilities, and significant playground improvements.

**Release:** `@mastra/core@0.14.0`

Let's dive in:

## AI SDK v5 Support

Our team has been working hard for the past month and a half to get this working and we're relieved to say it's finally done! We've added AI SDK v5 support throughout Mastra, and we took the extra time because we wanted to support AI SDK v5 in a backwards-compatible way.

**This is not a breaking change** (we repeat: **not a breaking change**). We now handle both v4 and v5 message formats simultaneously, the playground model switcher auto-detects versions, and our new `streamVNext` and `generateVNext` APIs are able to output v5 streams. This makes migrating seamless while maintaining backward compatibility.

**Shoutout to lead engineers Abhi, Tony, Tyler, and Caleb for dedicating the bulk of their time to this integration.** Details in [PR #6731](https://github.com/mastra-ai/mastra/pull/6731) and [PR #6909](https://github.com/mastra-ai/mastra/pull/6909).

### New Stream and Generate Methods with Format Options

The [updated `streamVNext` and `generateVNext`](https://mastra.ai/en/docs/agents/streaming) methods now let you choose your output formatâ€”either Mastra's native format or AI SDK v5 format. This gives you flexibility in how you consume agent responses while maintaining compatibility with existing code.

```tsx
// New vNext methods with configurable output
const stream = await agent.streamVNext(messages, {
  format: "aisdk", // defaults to "mastra"
});

const result = await agent.generateVNext(messages, {
  format: "aisdk", // defaults to "mastra"
});
```

The new methods are available across the entire stack (core agents, Client JS SDK, playground, and agent networks.) Check out [PR #6877](https://github.com/mastra-ai/mastra/pull/6877) for details.

## Output Processors for Agent Streams

We've unified input and output processing with a single [Processor interface](https://mastra.ai/en/docs/agents/output-processors), enabling stateful output processing for agent streams. This means you can now transform, filter, or enrich agent responses in real-time as they stream.

Output Processors allow you to transform AI responses _after_ they are generated by the language model but _before_ they are returned to users. This is useful for implementing moderation, transformation, and safety controls on AI-generated content.

```tsx
const agent = new Agent({
  // ... other config
  outputProcessors: [
    new CustomProcessor({
      processOutputStream: async (chunk) => {
        // Transform output as it streams
        return transformedChunk;
      },
    }),
  ],
});
```

We've also shipped [built-in output processors](https://mastra.ai/en/docs/agents/output-processors#built-in-processors) for common use-cases, **`ModerationProcessor`, `PIIDetector`, and `TokenLimiterProcessor` to name a few.**

See [PR #6482](https://github.com/mastra-ai/mastra/pull/6482) or [the docs](https://mastra.ai/en/docs/agents/output-processors) for full API examples.

## Experimental AI Tracing

We've added experimental AI tracing support for workflows and agents based on recent design updates. This gives you deeper visibility into operations for debugging and optimization.

Enable it with the new observability providers. We've added LangFuse ([PR #6783](https://github.com/mastra-ai/mastra/pull/6783)) exporter this week.

## Gemini Live Voice Integration

We've integrated Google's Gemini Live API with real-time TTS, STT, and voice-to-voice capabilities. This enables building voice-powered agents with natural conversation flow.

See [PR #6677](https://github.com/mastra-ai/mastra/pull/6677) for implementation details.

## Other Notable Updates

- **Playground:** Added model switcher with improved suggestions UI and dynamic options based on selected model version
- **Evals:** New `runExperiment` method for running and scoring agents in test suites or CI ([PR #6761](https://github.com/mastra-ai/mastra/pull/6761))
- **CLI:** Added 'scorers' subcommand for managing and listing scorers ([PR #6704](https://github.com/mastra-ai/mastra/pull/6704))
- **Workflows:** Added custom ID parameter to `.map` method and improved suspend/resume documentation
- **Deployer:** Fixed TypeScript build issues and Cloudflare deployment bugs

For the complete list of changes and fixes, check out the [full release notes](https://github.com/mastra-ai/mastra/releases/tag/%40mastra%2Fcore%400.14.0).

Happy building! ðŸš€
